---
navbar: false
sidebar: false
next: false
pre: false
---


组件库、埋点系统、项目重构和升级、小程序自动化上传、 脚手架、 monirepo + 微前端

 <center>
     <h1>卢晓锋</h1>
 </center>

## 个人信息

* 性 别：男&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&ensp;工作经验：6 年
* 手 机：15279189307 &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&ensp;  邮 箱：lxfljw@gmail.com
* 专 业：通信工程（统招本科）&emsp;&emsp;&emsp; 岗 位：高级前端开发工程师


## 工作经历

* 深圳市兔展智能科技有限公司 &emsp;&emsp;&emsp;&emsp;&emsp; 2020.07~至今&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;高级前端开发工程师、资深前端开发工程师
* 深圳市秦丝科技有限公司&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&ensp;2019.05~2020.06&emsp;&emsp;&emsp;&emsp;&emsp; 中级前端开发工程师
* 深圳市猜猜城科技有限公司&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&ensp;2018.08~2019.05 &emsp;&emsp;&emsp;&emsp;&emsp; 前端开发工程师

## 技能

* 熟练使用 HTML5、CSS3、JavaScript、TypeScript、ES6，熟悉 Http 和 Ajax，熟悉响应式布局和移动端适配
* 熟练使用 Vue、Vue-Router、VueX、Pinia，有 Vue3 的实际项目经验，并了解其实现原理。
* 熟练使用 React、React-Router、Redux、Mobx、Antd，熟悉 Hooks 语法，了解 React 原理。
* 熟练使用多端开发框架 Taro、Uni-app。
* 熟悉使用 Webpack、Vite 和 Rollup 等构建工具，参与过前端工程化实践。
* 了解浏览器渲染原理和事件循环机制。
* 了解前端安全 XSS 和 CSRF，能够采取相应的防御措施。
* 了解数据结构与算法。
* 了解 Linux 基本使用 和 Node.js、MySQL、Nginx、Docker 等服务端知识。


## 项目经历


### 前端业务组件库
时间：2023.06 ～ 2023.08

**项目背景**：前端多项目开发经常出现重复造轮子的业务场景，不仅浪费开发资源，也造成系统臃肿和维护困难，基于对该问题的考量，也考虑到给未来业务的拓展节约开发成本，所以专门设计了该业务组件库。

**项目描述**：该组件库收录各个项目重复开发或者即将开发的公共业务抽象为组件，考虑到成员的接入成本，需要给每用个组件提供对外的说明文档，并且能够本地开发和调试，最终发布成 npm 包给各个项目使用。

**项目职责**：
 * 技术选型和项目搭建
 * 与产品共同制定业务组件库的标准和范围，各项目可参考标准来决定是否需要抽象为业务组件
 * 业务组件库核心组件开发
 * 组件库代码 review

**技术要点**：
* 技术栈 Pnpm + Typescript + Storybook + React + Rollup，可以文档和开发结合，轻松做到一键发布文档和组件包
* 抽象文档公共说明组件，避免重复编写 template
* 使用 @testing-library 完成单元测试
* 接入 Eslint + Lint-Staged + Prittier + StyleLint 约束代码风格和语法错误校验
* 接入 K8s 完成自动部署
  

**项目成果**：
 * 规避了多组员协同项目开发时，组件杂乱复用带来的项目混乱的问题。
 * 项目落地实施后，累计节约了相关业务约 20% 的时间成本。
 * 可以生成对外的使用文档，相较于原来的组件内写 readme，查找组件和成文档本降低 80%
 * 经过投票以 70% 的赞同率成为团队标准文档方案

<hr>

### 零售系统升级和重构
时间：2023.06 ～ 2023.08

**项目背景**：
 * 90% 以上的项目是 Vue1 项目，没有 UI 组件，开发和维护效率低下，业务方反馈开发需求评估工时长
 * Webpack1.x 支持的生态工具较少，打包体积大且打包速度慢
 * 项目源码体积庞大，本地开发 HMR 需要 8s 左右的时间
 * 小程序端包体积过大，需要单独分包，且技术栈是 Vue1

**项目描述**：
 * 升级 Web 端和小程序端相关技术栈，减少工时预估，节约开发成本
 * 升级后重新评估需求工时，要求减少 20% 左右工时
 * 重构 Web 端首页装修系统，解耦业务逻辑，提升代码质量
 * 支持 TypeScript 开发
 * 小程序端分包和技术栈升级

**项目职责**：
 * 包管理器从 npm 升级到 pnpm
 * Vue1、Vue2 升级到 Vue3，Vue-Router 升级和权限路由代码兼容,
 * Webpack1 升级到 Webpack5，完全兼容 Vite
 * 接入 TypeScript、ElementPlus、Tailwindcss
 * 接入 Eslint + Lint-Staged + Prittier + StyleLint 约束代码风格和语法错误校验
 * 小程序由 Wepy1(Vue1) 迁移至 Uniapp(Vue3 + Vite)
  
**技术要点**：
* 由于 Vue1.x 的写法不使用 .vue 文件，导致无法在 VSCode 中进行语法校验，且代码分散。为了解决这些问题，我们将 js 和 html 合并为 .vue 文件，并编写脚本自动完成这一过程。此脚本不仅能将代码合并为 .vue 文件，还能进行一些简单的语法升级，如去除 template 声明、替换生命周期和将 require 替换为 import 等。相比手动合并，使用此脚本可以节省约 80% 的时间。
* 升级 Webpack5，接入 thread-loader 加快打包速度，并同时接入 Vite 进行兼容，编写 Vite 插件使得 Vite 构建产物目录层级保持和 Webpack 构建产物保持一致，增加 Webpack 打包体积和构建速度分析。
* 路由升级，采用适配器模式做一层适配，把旧版路由配置转换成新版路由配置。
* Vue3 语法修改和生态适配，升级 VueLoader，接入 TypeScript，接入 ElementPlus，接入 Tailwindcss，接入 Eslint + Lint-Staged + Prittier + StyleLint 约束代码风格和语法错误校验

**项目成果**：
* 升级后的系统需求工时评估减少 25% 左右
* 升级为最新的技术栈，有完善开发文档，提供更好的使用体验和更好的性能
* 升级 Vite 本地构建速度为秒启动，相比原来的一分钟本地启动，减少 90% 以上
* 生产构建开启多线程从 5 分钟缩减到 2 分钟，减少 60% 的构建时间
* 升级后 Web 端首页装修系统，使用策略模式解耦业务逻辑，复用表单校验和数据处理，提升代码质量
<hr>

### xx 项目
时间：2023.06 ～ 2023.08

**项目背景**：

**项目描述**：

**项目职责**：

**技术要点**：

**项目成果**：
<hr>


### xx 项目
时间：2023.06 ～ 2023.08

**项目背景**：

**项目描述**：

**项目职责**：

**技术要点**：

**项目成果**：
<hr>


### xx 项目
时间：2023.06 ～ 2023.08

**项目背景**：

**项目描述**：

**项目职责**：

**技术要点**：

**项目成果**：
<hr>


<!-- 
1. 主题换肤方案 - `2023.09- 2023.11`
    * 实现 PC 端和小程序端主题换肤
    * 核心实现是 css 变量，与 UI 部门沟通后由他们提供通过 figma-token 提供 css 变量，接着 PC 端在构建时打入项目内，通过根节点绑定的 theme 属性实现切换，小程序则是通过接口拉取 css 变量，通过 style 的方式打入包裹组件内，实现类似作用域的主题方案。
    * 所有颜色由 UI 部门通过figma-token 生成，避免了不同项目之间命名的问题，成功的统一了所有项目的主题配置，并且通过构建工具实现统一的主题注入，每个项目不需要手动配置主题色，只需要参考 figma-token 生成的主题色即可。
<hr >



3. 拜年小程序项目 `2023.01.01 - 2023.01.16`
    * 核心功能：选择视频模板后上传人脸图片，替换人脸后生成拜年视频，还有模板列表，视频合成列表，合成历史记录，预览页等。
    * 负责小程序项目架构搭建，包括构建脚本、业务 hooks、通用业务组件和核心功能视频合成编辑页
    * 难点：设计 Steper 步骤管理器，管理各个步骤之前的跳转，设计状态机，维护每个步骤操作状态如倒计时等。
    * 成果：整个项目前端工作量占比 80%，前端两人小组用时半个月完成上线，线上稳定性达到 99%，平均日活 10w+，达到百万级的创收。
<hr >

4. 系统重构 Vue1、Vue2 升级 Vue3  - `2022.07- 2024.08`
    * Vue1、Vue2、Webpack1 升级 Vue3（Webpack5 + Vite）
    * 升级前阅读了部分 Vue3 和 Webpack5 的源码，了解基本实现原理
    * Vue1 的升级比较麻烦，首先对路由进行升级，使用适配器模式做了 Router1 到 Router4 的适配层，对路由的参数进行了一层适配；升级思路是注释掉首页以外的所有路由，升级 Webpack 及其生态，然后升级 Vue3 并且配置 VueLoader，接入 TS，升级 ElementPlus，最后是对语法差异进行修改，直至能够完全支持 Vue3。另外后面 Vue2 的升级借助了 gogocode 这个升级工具，虽然有 bug 需要手动修改部分代码，如 .sync 语法和自定义指令，但是相比 Vue1 的手动升级是节省了不少的时间
    * Vue1 的项目很多生态都不支持，在开发的时候效率非常低，并且语法不尽相同，升级后主要是提高了开发效率和维护效率。Vue2 升级是因为Vue2 不再维护，并且社区很多新的功能都优先适配 Vue3，非常有必要升级到 Vue3，为以后的项目提供更好的支持。
    * 成果：构建上：升级带来的数据上的表现为：本地 Vite 构建秒级启动并且，Webpack 启动则需要两分钟，并且 HMR  Vite 要减少 60% 的时间，生产构建开启多线程从 5 分钟缩减到 2 分钟，减少 60% 的构建时间。技术栈上升级到最新主流技术，相比 Vue1 来说，团队成员更乐于开发和维护 Vue3，开发氛围变好。
    * 难点：Webpack 和 Vue 的升级都涉及旧生态插件问题和 Webpack 和 Vite 构建兼容方案探索
<hr >

5. Wepy1 迁移 Uniapp  - `2022.04- 2022.05`
    * 把 Wepy 小程序框架迁移到 Uniapp 进行维护，Wepy 使用 Vue1 作为内核，存在需要手动调用 api 执行页面渲染，组件必须用原生 wxml 编写，组件不能传递常量等许多问题，因此也决定迁移到主流多端框架uniapp 进行维护
    * 成果：小程序打包体积从1.7M减少到 1.2M，减小 30% 左右，构建速度提升70%，从原来的 3 分钟提高到 1 分钟内，并且小程序代码线上稳定运行，与未升级前保持高度一致性，升级后的版本未遭到用户投诉 bug。此项目升级后开发工时 评估减少 40%，为公司争取到了千万级别的订单。

<hr >


6. 通用埋点方案设计
    * 背景：项目的埋点方案没有统一，导致不同的项目开发全部都是入侵式埋点，一来增加了业务复杂度，二是增加了埋点维护的负担，此项目应运而生。
    * 我们选择了按需埋点方案，分为小程序端和 PC 端，终极目的是接入的时候尽量少改动代码并且接入简单，需要注意的是上报时对数据设置缓冲区，避免一次性上报过多数据和网络资源占用。
    * 小程序：对于全局和页面重写 Page 和 Component，代理页面的部分声明周期函数和 app 的声明周期函数进行 PV 上报， 对于属性代理如页面点击事件，在节点上绑定 datatrack 的数据收集上报，对于曝光埋点，设计组件使用intersectionObserver 监听目标元素进入目标区域上报曝光埋点，并支持曝光节流或单次曝光配置。
    * Web：监听浏览器路由变化进行 pv 上报,对于点击则是对 onClick 进行重写，然后取绑定到点击事件元素的数据 data-xx 进行上报；曝光方案和小程序基本一致，提供一个对外的组件包裹需要曝光的组件。
    * 效果：统一了前端的埋点方案，井且简化了不少需要每个项目都要初始化的数据，让埋点方案只需要一个 track.init 或者是曝光组件，方案得到了架构组的认可并接入了公司的所有需要埋点的项目，并被评为年度优秀技术方案。
    * demo演示地址，github地址
<hr >

1. 小程序自动化构建和上传  `2021.11- 2021.12`
    * 背景：小程序开发流程比较原始，开发人员开发完成提测后手动打包，上传草稿箱或者本地打预览码，实时同步版本号避免覆盖，非常影响效率，并且必须停止本地的开发工作，然后打包上传，30% 左右的时间都在打包发布和排查版本覆盖问题。
    * 解决方案：把本地手动打包的事情交给自动化流水线操作，各个平台小程序官方提供了自己的 ci 工具，如微信：miniprogram-ci，支付宝：minidev，基于这个 npm 包我们开发了一个全局 cli，并兼容不同平台的上传 ci，并提供上传和版本号控制命令给自动化工具使用，开发人员无需手动打版本，配套了一个取码平台，从打包好的小程序获取预览码或者体验码。
    * 主要功能：cli 包括了官方工具包的部分功能，并集成主流小程序的平台上传（支付宝，抖音），并扩展功能：自动收集配置，自动版本控制，多模板上传，上传错误重试，自动调用模板库接口发布体验版，主包阈值警告等功能
    * 成果：小程序开发流程简化，开发人员不再需要打包+发布，只负责写代码+合并，测试只需要取码平台拿最新二维码；开发脱离构建和版本号管理，并解决了版本号冲突的问题，协作效率提升 60% 左右，开发效率提升 30% 左右；而取码平台则是提高了开发与测试的协作效率和企业微信开发效率。
<hr >

1. 公司/学校 - XX游戏 - 负责后端开发 - 201309- 201401
    * 具体功能
    * 运用了那些技术，技术难点是
    * 效果如何
    * demo演示地址，github地址
  
2.  - 201309- 201401
    * 具体功能
    * 运用了那些技术，技术难点是
    * 效果如何
    * demo演示地址，github地址
<hr >

## 获奖经历
* XXX 优秀新人
* XXX 学生社团优秀干部
* 竞赛 XXX 奖

## 个人账号
* blog 地址 (附加自己博客特色，写了哪些技术文章)
* github 地址 (附加自己github特色，突出的项目)

## 其他信息
* 喜欢钻研技术 等等
* 性格开朗，喜欢跳舞，做个主持人 等等


 -->
